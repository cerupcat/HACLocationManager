{"name":"HACLocationManager","tagline":"This class allows you to conveniently manage the tedious process backwards compatibility in location between iOS7 and iOS 8","body":"![Logo](https://github.com/litoarias/HACLocationManager/blob/master/ExampleApp/github.png?raw=true)\r\n\r\nHACLocationManager is written in Objective-C, very easy to use and effective class.  \r\nRequests are made using blocks. Its syntax is very comfortable and intuitive.\r\nUse singleton design pattern and its compatibility is complete with iOS7 or higher.\r\nThis class is not for use as GPS, only for obtain user location in any moment and get geocoding and reverse geocoding.\r\n\r\n##Requirements and Dependencies\r\n- iOS >= 7.0\r\n- ARC enabled\r\n- CoreLocation Framework\r\n\r\n##Installation\r\n\r\n####CocoaPods:\r\n\r\n    \tpod 'HACLocationManager'\r\n\r\n####Manual install:\r\n- Copy `HACLocationManager.h` and `HACLocationManager.m` to your project\r\n- Manual install [HACLocationManager](https://github.com/litoarias/HACLocationManager/#manual-install)\r\n\r\n##Usage\r\n\r\n### Requesting Permission to Access Location Services\r\n\r\n#### iOS 7\r\nFor iOS 7, it is recommended that you provide a description for how your app uses location services by setting a string for the key [`NSLocationUsageDescription`](https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW27) in your app's `Info.plist` file.\r\n\r\n#### iOS 8\r\nSince iOS 8 it is required to add `NSLocationWhenInUseUsageDescription` key to your `Info.plist` file. Value for this key will be a description of UIAlertView presented to user while asking for location  permission. See [Apple documentation](https://developer.apple.com/library/ios/documentation/corelocation/reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization) for more info.\r\n\r\nBasically all you need to do is to add single entry in your `Info.plist` file. Add key `NSLocationWhenInUseUsageDescription`, and select type `String`. The value you enter for this entry will be shown as text in UIAlertView presented to user first time you try to determine his location.\r\nIn the end it should look similar to this:\r\n\r\n![plist](https://github.com/litoarias/HACLocationManager/blob/master/ExampleApp/Info_plist.png?raw=true)\r\n\r\n### Request permissions\r\nTo request permissions location, when you want independently to any operation. This request must always be performed before applying any other. I recommend do it in your AppDelegate.\r\n```objective-c\r\n[[HACLocationManager sharedInstance]requestAuthorizationLocation];\r\n```\r\n##### Instance class & set time out\r\nYou can configure time out for updates in request, for default it's 5 seconds\r\n```objective-c\r\nHACLocationManager *locationManager = [HACLocationManager sharedInstance];\r\nlocationManager.timeoutUpdating = 6;\r\n```\r\n\r\n###Obtain user location \r\nIs obtained by locating blocks, based on the location and updates the last location obtained. The first is optional, only if your application requires it.\r\n\r\n##### Request get Location\r\n```objective-c\r\n[locationManager LocationQuery];\r\n```\r\n##### Updates Location\r\n```objective-c\r\nlocationManager.locationUpdatedBlock = ^(CLLocation *location){\r\n  NSLog(@\"%@\", location);\r\n};\r\n```\r\n##### End updates Location\r\n```objective-c\r\nlocationManager.locationEndBlock = ^(CLLocation *location){\r\n  NSLog(@\"%@\", location);\r\n};\r\n```\r\n\r\n##### Failed to obtain the Location\r\n```objective-c\r\nlocationManager.locationErrorBlock = ^(NSError *error){\r\n  NSLog(@\"%@\", error);\r\n};\r\n```\r\n###Geocoding\r\n\r\n##### Request Geocoding of User Location\r\n```objective-c\r\n[locationManager GeocodingQuery];\r\n```\r\n##### Get Address of User\r\nCan multiple placemarks are received, so an array is returned \r\n```objective-c\r\nlocationManager.geocodingBlock = ^(NSArray *placemarks){\r\n    \r\n    CLPlacemark *placemark = (CLPlacemark *)placemarks[0];\r\n    \r\n    NSLog(@\"%@\",[NSString stringWithFormat:@\"%@ %@\\n%@ %@\\n%@\\n%@\",\r\n       placemark.subThoroughfare ? placemark.subThoroughfare : @\"\",\r\n       placemark.thoroughfare ? placemark.thoroughfare : @\"\",\r\n       placemark.postalCode ? placemark.postalCode : @\"\",\r\n       placemark.locality ? placemark.locality : @\"\",\r\n       placemark.administrativeArea ? placemark.administrativeArea : @\"\",\r\n       placemark.country ? placemark.country : @\"\"]);\r\n};\r\n```\r\n\r\n##### Failed to obtain Address\r\n```objective-c\r\nlocationManager.geocodingErrorBlock = ^(NSError *error){\r\n  NSLog(@\"%@\", error);\r\n};\r\n```\r\n\r\n### Reverse Geocoding\r\n##### Request Reverse Geocoding\r\n```objective-c\r\n[locationManager ReverseGeocodingQueryWithText:@\"1755 Embarcadero Road Palo Alto, CA 94303\"];\r\n```\r\n##### Response\r\nCan multiple placemarks are received, so an array is returned \r\n```objective-c\r\nlocationManager.reverseGeocodingBlock = ^(NSArray *placemarks){\r\n  for (int i = 0; i < [placemarks count]; i++){\r\n     CLPlacemark * thisPlacemark = [placemarks objectAtIndex:i];\r\n     NSLog(@\"%@\", thisPlacemark);\r\n  }\r\n};\r\n```\r\n##### Failed block\r\n```objective-c\r\nlocationManager.reverseGeocodingErrorBlock = ^(NSError *error){\r\n  NSLog(\"%@\", error);\r\n};\r\n```\r\n\r\n### Get last stored location\r\nYou can also get the latest location of the user stored persistently for those cases in which the location is not available.\r\n```objective-c\r\nNSLog(@\"%@\",locationManager.getLastSavedLocation);\r\n```\r\n\r\n### Get the route between two points.\r\nYou can try changing the parameters in the sample project, changing the parameters of latitude and longitude.\r\nThe means of transport can also be chosen, walking or automovile, for default it's automovile.\r\n```objective-c\r\n[[HACLocationManager sharedInstance]RoutesBetweenTwoPointsWithUserLat:40.4376751\r\n                                                                    lngUser:-3.7044201\r\n                                                                    latDest:40.0619721\r\n                                                                    lngDest:-2.1480249\r\n                                                               transporType:automovile\r\n                                                          onCompletionBlock:^(NSArray * routes, NSError *error){\r\n        if(!error){\r\n           \r\n            [routes enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {\r\n                \r\n                MKRoute *route = obj;\r\n                \r\n                MKPolyline *line = [route polyline];\r\n                \r\n                [self.mapView addOverlay:line];\r\n                \r\n                NSLog(@\"Rout Name : %@\",route.name);\r\n                \r\n                NSLog(@\"Total Distance (in Meters) :%f\",route.distance);\r\n                \r\n                NSArray *steps = [route steps];\r\n                \r\n                NSLog(@\"Total Steps : %lu\",(unsigned long)[steps count]);\r\n                \r\n                [steps enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {\r\n                    \r\n                    NSLog(@\"Rout Instruction : %@\",[obj instructions]);\r\n                    \r\n                    NSLog(@\"Rout Distance : %f\",[obj distance]);\r\n                    \r\n                }];\r\n            }];\r\n        }else{\r\n            NSLog(@\"%@\", [error localizedDescription]);\r\n        }\r\n\r\n    }];\r\n```\r\n\r\n\r\nEnjoy :D\r\n\r\n## Contributing\r\n\r\n1. Fork it ( https://github.com/[my-github-username]/HACLocationManager/fork )\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create a new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}